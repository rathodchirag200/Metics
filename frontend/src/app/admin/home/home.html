<div class="max-w-370 md:pl-72 pt-30 flex flex-col gap-8 mx-auto px-6 py-10 transition-all duration-300">

  <div>
    <h1 class="text-3xl sm:text-4xl font-extrabold text-[#0f172a]">
      Add Products
    </h1>
    <p class="text-gray-500 text-sm sm:text-base">
      Fill in the details to list a new product
    </p>
  </div>

  <form (ngSubmit)="onSubmit()" class="space-y-8">

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-3">Product Images</label>
      <div class="flex flex-wrap gap-4">
        @for (img of imagePreviews; track $index) {
        <div class="relative w-28 h-28 sm:w-32 sm:h-32 border border-gray-300 group">
          <img [src]="img" class="w-full h-full object-cover" />
          <button type="button" (click)="removeImage($index)"
            class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-100 sm:opacity-0 group-hover:opacity-100 transition shadow-md">
            ✕
          </button>
        </div>
        }

        <label for="product-image-input" class="cursor-pointer">
          <div
            class="w-28 h-28 sm:w-32 sm:h-32  border border-gray-400 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition">
            <img [src]="placeholder" class="w-10 h-10 sm:w-12 sm:h-12 " alt="Upload" />
            <span class="text-[10px] uppercase font-semibold text-gray-600 mt-1">Upload</span>
          </div>
        </label>
      </div>
      <input type="file" id="product-image-input" class="hidden" accept="image/*" multiple
        (change)="onFileSelected($event)" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Product Name</label>
      <input type="text" name="product_name" [(ngModel)]="productData.product_name" placeholder="MARINA – Strap Top"
        class="w-full px-4 py-3 border border-gray-400 bg-white focus:border-black focus:ring-1 focus:ring-black outline-none transition" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
      <textarea name="description" [(ngModel)]="productData.description" rows="4" placeholder="Write product details..."
        class="w-full px-4 py-3 border border-gray-400 bg-white focus:border-black focus:ring-1 focus:ring-black outline-none transition"></textarea>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
        <select name="category" [(ngModel)]="productData.category"
          class="w-full px-4 py-3 border border-gray-400 bg-white outline-none cursor-pointer focus:border-black">
          <option>Men</option>
          <option>Women</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Sub Category</label>
        <select name="sub_category" [(ngModel)]="productData.sub_category"
          class="w-full px-4 py-3 border border-gray-400 bg-white outline-none cursor-pointer focus:border-black">
          <option>Topwear</option>
          <option>Best Sellers</option>
          <option>Dresses</option>
          <option>New Arrivals</option>
        </select>
      </div>

      <div class="sm:col-span-2 md:col-span-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Stock</label>
        <input type="number" name="stock" [(ngModel)]="productData.stock" placeholder="100"
          class="w-full px-4 py-3 border border-gray-400 bg-white outline-none focus:border-black" />
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Original Price</label>
        <input type="number" name="price" [(ngModel)]="productData.price" placeholder="₹60"
          class="w-full px-4 py-3 border border-gray-400 bg-white outline-none focus:border-black" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Discount Price</label>
        <input type="number" name="offer_price" [(ngModel)]="productData.offer_price" placeholder="25"
          class="w-full px-4 py-3 border border-gray-400 bg-white outline-none focus:border-black" />
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-3">Available Sizes</label>
      <div class="flex gap-3 flex-wrap">
        @for (size of availableSizes; track size) {
        <button type="button" (click)="toggleSize(size)"
          [class.bg-black]="selectedSizes.includes(size)"
          [class.text-white]="selectedSizes.includes(size)"
          [class.border-black]="selectedSizes.includes(size)"
          class="px-6 py-2 border border-gray-400 text-gray-800 font-medium transition hover:border-black">
          {{size}}
        </button>
        }
      </div>
    </div>

    <div class="pt-6">
      <button type="submit" class="w-full sm:w-auto px-16 py-4 bg-gray-900 text-white font-bold tracking-widest hover:bg-black transition-all active:scale-95 shadow-xl">
        ADD PRODUCT
      </button>
    </div>
  </form>
</div>
